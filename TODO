* Replace Connection instances in the tests by FakeConnection objects.
* Warn for untested methods.
* Check whether merging workqueue.Action and workqueue.Job makes sense.
* Add a workqueue method for putting jobs to sleep until another job is
  completed, and use that in sys.run() and Queue.wait_for() instead of
  polling. This will also let us get rid of force_run() everywhere.
* Check for places where polling is used, and get rid of it.
* Try to move the remote_os detection into a stream monitor, instead of
  hard wiring it into the authentication procedure.
* Add more tests.
* "make dist" should pull dependencies.
